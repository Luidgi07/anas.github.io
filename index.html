<!DOCTYPE html>
<!-- Indica que o documento é HTML5 -->
<html lang="pt">
<!-- Define que o idioma principal da página é português -->

<head>
  <meta charset="UTF-8" />
  <!-- Define a codificação de caracteres como UTF-8 (suporta acentos corretamente) -->

  <title>PS4/PS5 Menu – Currículo 1</title>
  <!-- Título que aparece no separador do navegador -->

  <style>
    /* ===== BASE ===== */
    /* Estilos gerais para html e body para ocupar toda a janela e remover barras de scroll */
    html,
    body {
      width: 100vw;   /* Largura igual à largura da janela (viewport width) */
      height: 100vh;  /* Altura igual à altura da janela (viewport height) */
      margin: 0;      /* Remove margem padrão do navegador */
      padding: 0;     /* Remove padding padrão do navegador */
      overflow: hidden; /* Esconde qualquer scroll (não mostra barras de scroll) */
    }

    body {
      /* Imagem de fundo principal, centrada e a ocupar todo o ecrã */
      background: url('generated-image.png') center/cover no-repeat;
      /* Fonte principal usada em toda a página */
      font-family: 'Segoe UI', Arial, sans-serif;
      /* Usa flexbox para organizar o conteúdo verticalmente */
      display: flex;
      flex-direction: column;   /* Coloca elementos em coluna (de cima para baixo) */
      justify-content: flex-end; /* Encosta os elementos ao fundo da página */
      align-items: flex-start;   /* Alinha elementos à esquerda */
      position: relative;       /* Permite posicionar elementos filhos de forma relativa ao body */
      padding-top: 60px;        /* Deixa espaço em cima para a barra (HUD) superior */
      transition: background 0.4s ease; /* Anima mudanças no background de forma suave */
    }

    /* ===== OVERLAY VÍDEO INICIAL ===== */
    #introVideoWrapper {
      position: fixed;  /* Fixa o vídeo na janela, mesmo com scroll */
      inset: 0;         /* top, right, bottom, left = 0 (preenche a tela) */
      background: #000; /* Fundo preto por trás do vídeo */
      display: flex;    /* Usa flexbox para centrar o vídeo */
      align-items: center;
      justify-content: center;
      z-index: 100000;  /* Garante que fica acima de todos os outros elementos */
    }

    #introVideoWrapper video {
      width: 100%;      /* Vídeo ocupa toda a largura do wrapper */
      height: 100%;     /* Vídeo ocupa toda a altura do wrapper */
      object-fit: cover; /* Corta o vídeo para preencher a área sem distorcer */
    }

    /* ===== OVERLAY BRANCO ===== */
    #whiteOverlay {
      position: fixed;  /* Fica fixo em toda a janela */
      inset: 0;         /* Cobre o ecrã inteiro */
      background: #ffffff; /* Cor de fundo branca */
      z-index: 99999;      /* Logo abaixo do vídeo de introdução */
      opacity: 0;          /* Começa invisível */
      pointer-events: none; /* Não bloqueia cliques (como se não existisse) */
      transition: opacity 1.8s ease; /* Anima a transparência suavemente */
    }

    #whiteOverlay.visible {
      opacity: 1; /* Quando tem a classe "visible", torna-se visível */
    }

    #whiteOverlay.fade-out {
      opacity: 0; /* Classe usada para fazer o overlay branco desaparecer de novo */
    }

    /* ===== MODAL CENTRAL (RESUMO / ÍNDICE) ===== */
    #infoModalOverlay {
      position: fixed;             /* Fica fixo na janela */
      inset: 0;                    /* Ocupa o ecrã todo */
      background: rgba(0, 0, 0, 0.55); /* Fundo escuro semi-transparente por trás do modal */
      display: none;               /* Escondido por padrão */
      align-items: center;         /* Centra verticalmente o modal */
      justify-content: center;     /* Centra horizontalmente o modal */
      z-index: 9000;               /* Fica acima de quase tudo, exceto o vídeo/overlays */
    }

    #infoModalOverlay.visible {
      display: flex; /* Quando tem a classe "visible", mostra o modal (display flex) */
    }

    #infoModal {
      background: rgba(9, 16, 32, 0.96); /* Fundo escuro com opacidade */
      border-radius: 18px;               /* Cantos arredondados */
      padding: 26px 30px 22px;           /* Espaçamento interno */
      max-width: 520px;                  /* Largura máxima do modal */
      width: 90%;                        /* Ocupa 90% da largura do ecrã em ecrãs pequenos */
      color: #f5f7fa;                    /* Cor do texto */
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.8); /* Sombra forte para destacar */
      border: 1px solid rgba(255, 255, 255, 0.18); /* Borda clara e subtil */
      backdrop-filter: blur(18px);       /* Efeito de desfoque no fundo (vidro fosco) */
      position: relative;                /* Referência para elementos posicionados dentro (se existirem) */
    }

    #infoModal h2 {
      margin: 0 0 10px;      /* Remove margem em cima e adiciona em baixo */
      font-size: 1.4em;      /* Aumenta tamanho da fonte */
      letter-spacing: .16em; /* Espaçamento entre letras */
      text-transform: uppercase; /* Transforma texto em maiúsculas */
    }

    #infoModal p {
      margin: 4px 0 10px;     /* Pequena margem vertical */
      font-size: 0.95em;      /* Um pouco menor que o padrão */
      line-height: 1.5em;     /* Espaçamento entre linhas */
    }

    #infoModal ul {
      margin: 8px 0 0;        /* Margem superior */
      padding-left: 18px;     /* Espaço à esquerda para as bolinhas da lista */
      font-size: 0.93em;      /* Texto ligeiramente pequeno */
    }

    #infoModal ul li {
      margin-bottom: 4px; /* Espaço entre itens da lista */
    }

    #infoModal .modal-buttons {
      margin-top: 16px;     /* Espaço acima dos botões */
      display: flex;        /* Coloca botões lado a lado */
      justify-content: flex-end; /* Alinha botões à direita */
      gap: 10px;            /* Espaço entre os botões */
    }

    #infoModal .modal-btn {
      background: linear-gradient(135deg, #14aaff 60%, #75d5ff 120%); /* Gradiente azul */
      border: none;          /* Sem borda extra */
      color: #fff;           /* Texto branco */
      padding: 7px 20px;     /* Espaço interno do botão */
      font-weight: 600;      /* Texto mais grosso */
      border-radius: 999px;  /* Botão com forma de pílula */
      cursor: pointer;       /* Cursor de mão ao passar por cima */
      font-size: 0.88em;     /* Tamanho da fonte do botão */
    }

    #infoModal .modal-btn.secondary {
      /* Estilo do botão secundário (Fechar) */
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.35);
    }

    /* ===== BOTÕES LATERAIS TOPO ESQ ===== */
    #infoToggleBtn,
    #biblioToggleBtn {
      position: fixed;                 /* Ficam sempre fixos no ecrã */
      left: 32px;                      /* Distância à esquerda */
      z-index: 8000;                   /* Ficam acima da maioria dos elementos */
      background: rgba(10, 20, 40, 0.90); /* Fundo escuro semi-transparente */
      color: #eaf5ff;                  /* Cor do texto clara */
      border-radius: 0 999px 999px 0;  /* Bordas arredondadas só do lado direito (formato de aba) */
      border: 1px solid rgba(66, 170, 255, 0.6); /* Borda azulada */
      padding: 8px 14px;               /* Espaço interno */
      display: flex;                   /* Conteúdo interno lado a lado */
      align-items: center;             /* Alinha verticalmente */
      gap: 8px;                        /* Espaço entre ícone e texto */
      cursor: pointer;                 /* Cursor de mão ao passar */
      font-size: 0.78em;               /* Texto ligeiramente pequeno */
      letter-spacing: .08em;           /* Espaçamento entre letras */
      text-transform: uppercase;       /* Texto em maiúsculas */
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.7); /* Sombra para destacar */
    }

    #infoToggleBtn {
      top: 90px;   /* Posição vertical do botão "Resumo / Índice" */
    }

    #biblioToggleBtn {
      top: 150px;  /* Posição vertical do botão "Bibliografia" */
    }

    #infoToggleBtn span.icon,
    #biblioToggleBtn span.icon {
      width: 8px;         /* Largura da barrinha colorida */
      height: 26px;       /* Altura da barrinha colorida */
      border-radius: 999px; /* Forma de cápsula */
      background: linear-gradient(180deg, #14aaff, #75d5ff); /* Gradiente azul vertical */
    }

    #infoToggleBtn.hidden {
      display: none; /* Classe para esconder o botão "Resumo / Índice" */
    }

    /* ===== MODAL BIBLIOGRAFIA ===== */
    #biblioModalOverlay {
      position: fixed;             /* Fica fixo na janela */
      inset: 0;                    /* Ocupa o ecrã todo */
      background: rgba(0, 0, 0, 0.55); /* Fundo escuro semi-transparente */
      display: none;               /* Começa escondido */
      align-items: center;         /* Centra verticalmente o conteúdo */
      justify-content: center;     /* Centra horizontalmente o conteúdo */
      z-index: 9000;               /* Fica acima de quase todos os elementos */
    }

    #biblioModalOverlay.visible {
      display: flex; /* Mostra o modal de bibliografia quando tem esta classe */
    }

    #biblioModal {
      background: rgba(9, 16, 32, 0.96); /* Fundo escuro com opacidade */
      border-radius: 18px;               /* Cantos arredondados */
      padding: 24px 30px 22px;           /* Espaço interno */
      max-width: 520px;                  /* Largura máxima */
      width: 90%;                        /* Ocupa 90% da largura em ecrãs pequenos */
      color: #f5f7fa;                    /* Cor do texto */
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.8); /* Sombra forte */
      border: 1px solid rgba(255, 255, 255, 0.18); /* Borda clara e subtil */
      backdrop-filter: blur(18px);       /* Efeito vidro fosco */
    }

    #biblioModal h2 {
      margin: 0 0 10px;         /* Margem inferior */
      font-size: 1.35em;        /* Tamanho de fonte maior */
      letter-spacing: .12em;    /* Espaçamento entre letras */
      text-transform: uppercase; /* Texto em maiúsculas */
    }

    #biblioModal p {
      margin: 4px 0 10px;       /* Margem vertical */
      font-size: 0.95em;        /* Tamanho de fonte */
      line-height: 1.5em;       /* Espaçamento entre linhas */
    }

    #biblioModal .modal-buttons {
      margin-top: 16px;     /* Espaço acima dos botões */
      display: flex;        /* Coloca botões lado a lado */
      justify-content: flex-end; /* Alinha à direita */
    }

    #biblioModal .modal-btn {
      background: transparent; /* Fundo transparente */
      border: 1px solid rgba(255, 255, 255, 0.35); /* Borda clara */
      color: #fff;            /* Texto branco */
      padding: 7px 20px;      /* Espaço interno */
      font-weight: 600;       /* Texto mais grosso */
      border-radius: 999px;   /* Forma de cápsula */
      cursor: pointer;        /* Cursor de mão ao passar por cima */
      font-size: 0.88em;      /* Tamanho de fonte */
    }

    /* ===== TOP HUD ===== */
    .top-hud {
      position: fixed;                   /* Barra superior fixa no topo */
      top: 0;
      left: 0;
      width: 100vw;                      /* Ocupa toda a largura da janela */
      height: 58px;                      /* Altura fixa da barra */
      background: rgba(18, 26, 36, 0.90); /* Fundo escuro semi-transparente */
      display: flex;                     /* Usando flexbox para organizar conteúdo */
      align-items: center;               /* Centraliza verticalmente os itens */
      padding: 0 32px;                   /* Espaço interno à esquerda e direita */
      z-index: 7000;                     /* Fica acima do conteúdo geral */
      border-bottom: 2.5px solid #42aaff; /* Linha azul na parte de baixo da barra */
      box-shadow: 0 2px 18px #12244477;  /* Sombra abaixo da barra */
    }

    .hud-left,
    .hud-center,
    .hud-right {
      display: flex;         /* Alinha os elementos internos em linha */
      align-items: center;   /* Alinhados verticalmente ao centro */
      gap: 18px;             /* Espaçamento entre os elementos */
    }

    .hud-center {
      margin-left: auto;     /* Empurra o centro para a direita */
      margin-right: 80px;    /* Espaço à direita do centro */
    }

    .hud-time-date {
      color: #e9f5fa;                              /* Cor do texto (branco azulado) */
      font-size: 1.07em;                           /* Tamanho da fonte */
      font-family: 'Segoe UI Mono', monospace;     /* Fonte monoespaçada tipo relógio digital */
    }

    .profile-area {
      display: flex;                               /* Alinha imagem e nome lado a lado */
      align-items: center;
      gap: 11px;                                   /* Espaço entre imagem e texto */
      background: rgba(42, 62, 94, 0.82);          /* Fundo azul escuro semi-transparente */
      border-radius: 9px;                          /* Cantos arredondados */
      padding: 5px 55px;                           /* Espaço interno */
      border: 1.5px solid #42aaff60;               /* Borda azul clara */
    }

    .profile-img {
      width: 38px;             /* Largura da imagem de perfil */
      height: 38px;            /* Altura da imagem de perfil */
      border-radius: 7px;      /* Cantos arredondados */
      object-fit: cover;       /* Corta a imagem para preencher sem distorcer */
      border: 2.5px solid #42aaff; /* Borda azul em volta da imagem */
    }

    .profile-name {
      color: #f3f8fc;          /* Cor do texto clara */
      font-weight: 600;        /* Texto mais grosso */
      max-width: 120px;        /* Largura máxima para o nome */
      overflow: hidden;        /* Esconde texto que ultrapasse a largura */
      text-overflow: ellipsis; /* Mostra "..." se o nome for demasiado grande */
      white-space: nowrap;     /* Impede quebra de linha no nome */
    }

    /* ===== BACKGROUNDS ===== */
    body::before {
      content: "";          /* Pseudo-elemento vazio */
      position: fixed;      /* Fica fixo na janela */
      top: 0;
      left: 0;
      width: 100vw;         /* Ocupa toda a largura */
      height: 100vh;        /* Ocupa toda a altura */
      z-index: -2;          /* Fica atrás de tudo */
      opacity: 0;           /* Começa invisível */
      pointer-events: none; /* Não interfere com cliques */
      background: transparent; /* Sem fundo por padrão */
      transition: opacity .8s cubic-bezier(.4, 1, .72, 1); /* Anima a opacidade */
    }

    /* Diferentes classes para trocar a imagem de fundo dinâmica */
    body.bg-dynamic-1::before {
      background: url('Design sem nome (5).png') center/cover no-repeat;
      opacity: 1;
    }

    body.bg-dynamic-2::before {
      background: url('Design sem nome (6).png') center/cover no-repeat;
      opacity: 1;
    }

    body.bg-dynamic-3::before {
      background: url('Design sem nome (7).png') center/cover no-repeat;
      opacity: 1;
    }

    body.bg-dynamic-4::before {
      background: url('Design sem nome (8).png') center/cover no-repeat;
      opacity: 1;
    }

    body::after {
      content: "";           /* Pseudo-elemento vazio para gradiente por cima do fundo */
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;           /* Fica à frente do ::before mas atrás do conteúdo */
      pointer-events: none;  /* Não bloqueia cliques */
      background: linear-gradient(
        to bottom,
        rgba(18, 26, 36, .75) 0%,
        rgba(18, 26, 36, .8) 30%,
        rgba(18, 26, 36, .4) 60%,
        rgba(18, 26, 36, 0) 90%
      ); /* Gradiente escuro de cima para baixo */
      opacity: 0;            /* Invisível por padrão */
      transition: opacity 1.1s cubic-bezier(.36, 1, .72, 1); /* Anima a opacidade */
    }

    body.hub-open::after {
      opacity: 1;           /* Quando o hub está aberto, o gradiente fica visível */
      background: radial-gradient(circle at top,
        rgba(0, 0, 0, 0.55) 0%,
        rgba(0, 0, 0, 0.78) 45%,
        rgba(0, 0, 0, 0.90) 100%);
      /* Gradiente radial mais escuro, focado no topo */
    }

    body.gradient-fade::after {
      opacity: 1; /* Classe extra para forçar o gradiente a aparecer */
    }

    /* ===== DASHBOARD / CARROSSEL ===== */
    .dashboard-container {
      position: fixed;                 /* Fica fixo na parte inferior do ecrã */
      left: 0;
      bottom: 0;
      width: 100vw;                    /* Ocupa toda a largura */
      z-index: 10;                     /* Fica acima do fundo mas abaixo de HUDs superiores */
      transition: transform .65s cubic-bezier(.42, 1, .72, 1);
      /* Anima a subida/descida do dashboard */
    }

    .dashboard-container.expanded {
      transform: translateY(-340px); /* Quando expandido, sobe 340px */
    }

    .ps4-dashboard {
      width: 100vw;                 /* Largura total */
      padding: 80px 0 120px 90px;   /* Espaços interno em cima, baixo e esquerda */
      overflow: hidden;            /* Esconde conteúdo que ultrapasse a área */
    }

    .carousel-inner {
      display: flex;               /* Coloca os cartões lado a lado */
      align-items: flex-end;       /* Alinha pelo fundo */
      gap: 38px;                   /* Espaço entre cartões */
      transition: transform .43s cubic-bezier(.42, 1, .72, 1);
      /* Anima o movimento do carrossel ao trocar de cartão */
    }

    .menu-item-wrapper {
      position: relative;          /* Posição relativa para posicionar HUD em baixo */
      display: flex;
      flex-direction: column;      /* Cartão e HUD um por cima do outro */
      align-items: center;         /* Centro horizontal */
      margin-bottom: 24px;         /* Espaço abaixo do conjunto cartão+HUD */
    }

    .menu-item {
      width: 160px;               /* Largura do cartão */
      height: 242px;              /* Altura do cartão */
      background: #23283a;        /* Cor de fundo caso não haja imagem */
      box-shadow: 0 8px 32px #000c; /* Sombra em baixo do cartão */
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2.5px solid transparent; /* Borda transparente por padrão */
      cursor: pointer;                   /* Cursor de mão ao passar em cima */
      transition:
        transform .22s cubic-bezier(.32, 1.35, .62, 1),
        box-shadow .18s,
        border .18s;
      /* Animações suaves ao selecionar / focar */
    }

    .menu-item.selected {
      transform: scale(1.22); /* Aumenta o cartão quando está selecionado */
      box-shadow: 0 0 40px 5px #42aaffcc, 0 5px 35px #000c;
      /* Sombras extra quando selecionado */
      border-color: #42aaff; /* Borda azul quando selecionado */
      border-bottom: none;   /* Remove borda inferior para encaixar com HUD */
    }

    .menu-item img {
      width: 100%;      /* Imagem ocupa todo o cartão */
      height: 100%;
      object-fit: cover; /* Ajusta a imagem sem distorcer, cortando se necessário */
    }

    /* ===== HUD BAIXO ===== */
    .hud-row {
      display: none;         /* Linha de HUD começa oculta (apenas do selecionado aparece) */
      position: absolute;    /* Posiciona relativamente ao .menu-item-wrapper */
      left: 0;
      top: 100%;             /* Começa logo abaixo do cartão */
      align-items: stretch;  /* HUDs esticam em altura */
      z-index: 40;           /* Fica acima dos cartões */
    }

    .menu-item.selected~.hud-row {
      display: flex;         /* Apenas o HUD do cartão selecionado fica visível */
      transform: translateY(18px); /* Empurra o HUD um pouco para baixo */
      left: -18px;          /* Ajuste para alinhar com o cartão aumentado */
      animation: boxin .21s; /* Animação ao aparecer */
    }

    @keyframes boxin {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hud-start {
      height: 48px;                        /* Altura da caixa do botão START */
      background: rgba(26, 30, 43, .98);   /* Fundo escuro */
      border: 2.5px solid #42aaff;         /* Borda azul */
      display: flex;
      align-items: center;
      justify-content: center;
      width: 160px;                        /* Largura igual ao cartão base */
      margin-right: 12px;                  /* Espaço entre START e o título */
    }

    .menu-item.selected~.hud-row .hud-start {
      width: calc(160px * 1.22);
      /* Quando selecionado, ajusta a largura do HUD START ao cartão aumentado */
    }

    .hud-btn {
      background: linear-gradient(135deg, #14aaff 60%, #75d5ff 120%);
      /* Gradiente azul do botão START */
      color: #fff;
      border: none;
      font-weight: 600;
      letter-spacing: 2px;
      padding: 8px 32px;
      cursor: pointer;
      height: 32px;
    }

    .hud-title {
      min-width: 260px;                 /* Largura mínima do título */
      height: 48px;                     /* Altura da caixa do título */
      display: flex;
      align-items: center;
      background: rgba(10, 14, 28, .88); /* Fundo escuro semi-transparente */
      border-radius: 16px;              /* Cantos arredondados */
      border: 1.5px solid rgba(255, 255, 255, .12); /* Borda clara */
      padding: 0 22px;                  /* Espaço interno nas laterais */
      font-size: 1.05em;                /* Tamanho do texto */
      font-weight: 600;                 /* Texto mais grosso */
      color: #f5f7fa;                   /* Cor do texto */
      cursor: pointer;                  /* Cursor de mão ao passar */
      backdrop-filter: blur(14px);      /* Efeito de vidro fosco */
    }

    .hud-title .down-arrow {
      margin-left: 10px;        /* Espaço antes da setinha */
      color: #42aaff;           /* Cor azul da seta */
      animation: bounce 1.4s infinite; /* Anima a seta com movimento de “salto” */
    }

    @keyframes bounce {
      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(5px);
      }
    }

    /* ===== CD ANIMADO ===== */
    .cd-label-wrap {
      display: inline-flex; /* Coloca o ícone de CD e o texto lado a lado */
      align-items: center;
      gap: 10px;            /* Espaço entre o CD e o texto */
    }

    .cd-small {
      width: 34px;   /* Tamanho do CD pequeno */
      height: 34px;
      border-radius: 50%; /* Forma circular */
      background: radial-gradient(circle at 30% 30%, #ffffff 0%, #dfe3eb 40%, #7f8aa5 70%, #151924 100%);
      /* Gradiente que imita um CD físico */
      border: 3px solid #111722; /* Borda escura à volta do CD */
      box-shadow: 0 0 8px rgba(0, 0, 0, .85); /* Sombra para dar volume */
      position: relative;
      animation: cdRotate 4s linear infinite,
        cdWobble 3s ease-in-out infinite;
      /* Roda continuamente e faz um ligeiro "abanar" */
    }

    .cd-small::before {
      content: "";      /* Cria o círculo central do CD */
      position: absolute;
      inset: 28%;       /* Círculo menor dentro do CD */
      border-radius: 50%;
      background: radial-gradient(circle, #0b1724 0%, #1e3f6a 70%);
      /* Gradiente interno */
    }

    @keyframes cdRotate {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    @keyframes cdWobble {
      0%,
      100% {
        transform: translateX(0);
      }

      50% {
        transform: translateX(4px);
      }
    }

    /* ===== BOTÃO CIMA ===== */
    .scroll-top-btn {
      position: absolute;                  /* Posicionado relativamente ao painel de detalhes */
      left: 50%;                           /* Centro horizontal */
      top: 0;                              /* Encostado ao topo do painel */
      transform: translate(-50%, -120%);   /* Sobe o botão acima do painel */
      background: transparent;             /* Sem fundo */
      border: none;                        /* Sem borda */
      width: 38px;
      height: 38px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;                     /* Cursor de mão ao passar por cima */
      z-index: 20;                         /* Fica acima do painel */
      padding: 0;
    }

    .scroll-top-btn svg {
      width: 32px;
      height: 32px;
      stroke: #1da1f2; /* Cor azul das setas */
    }

    /* ===== HUB EM BAIXO ===== */
    .game-details {
      position: fixed;                     /* Fixos na parte de baixo da janela */
      left: 0;
      bottom: 0;
      width: 100vw;                        /* Largura total */
      padding: 40px 80px 60px;             /* Espaços internos (em cima, lados, baixo) */
      display: flex;
      justify-content: flex-start;         /* Alinha conteúdo à esquerda */
      align-items: flex-end;               /* Alinha ao fundo */
      opacity: 0;                          /* Painéis começam invisíveis */
      pointer-events: none;                /* Não permitem clique enquanto invisíveis */
      transform: translateY(100%);         /* Começam fora do ecrã (para baixo) */
      transition:
        opacity .7s cubic-bezier(.42, 1, .72, 1),
        transform .7s cubic-bezier(.42, 1, .72, 1);
      /* Anima o aparecimento e subida dos painéis */
      z-index: 12;                         /* Ficam acima do dashboard e do fundo */
    }

    .game-details.visible {
      opacity: 1;              /* Torna o painel visível */
      pointer-events: auto;    /* Permite clique */
      transform: translateY(0); /* Painel sobe para a posição normal */
    }

    /* Layout interno dos hubs (4 colunas, última fica vazia) */
    .game-details-inner {
      width: 100%;
      max-width: 1500px;                 /* Largura máxima do conteúdo interno */
      display: grid;                     /* Usa grid para organizar colunas */
      grid-template-columns: 340px 1.2fr 220px 360px;
      /* 4 colunas com larguras definidas */
      gap: 26px;                         /* Espaço entre colunas */
      align-items: start;                /* Alinha o conteúdo ao topo de cada coluna */
    }

    .cover-main {
      width: 100%;                       /* Imagem de capa ocupa toda a coluna */
      height: 210px;                     /* Altura fixa */
      border-radius: 20px;               /* Cantos arredondados */
      border: 2px solid #42aaff;         /* Borda azul */
      object-fit: cover;                 /* Ajusta a imagem sem distorcer */
    }

    .game-details .info {
      color: #f5f7fa;                    /* Cor do texto */
      display: flex;
      flex-direction: column;            /* Elementos em coluna */
      justify-content: flex-start;       /* Começam do topo */
      font-size: .96em;                  /* Tamanho do texto */
      line-height: 1.4em;                /* Espaçamento entre linhas */
    }

    .game-details .info h1 {
      font-size: 2.1em;                  /* Tamanho do título principal */
      letter-spacing: .14em;             /* Espaçamento entre letras */
      text-transform: uppercase;         /* Texto em maiúsculas */
      margin: 0 0 4px;                   /* Margem inferior ao título */
      text-shadow: 0 3px 10px #000;      /* Sombra para destacar no fundo */
      font-weight: 600;                  /* Espessura do texto */
    }

    .game-details .info .tagline {
      margin: 0 0 8px;                   /* Margem inferior à tagline */
      opacity: .9;                       /* Ligeiramente transparente */
      font-weight: 500;                  /* Espessura média do texto */
    }

    .game-details .info p {
      margin: 0 0 10px;                  /* Margem inferior para separar parágrafos */
    }

    .game-details .buttons {
      margin-top: 10px;                  /* Espaço acima dos botões */
      display: flex;
      gap: 12px;                         /* Espaço entre botões */
      flex-wrap: wrap;                   /* Permite quebrar linha se faltar espaço */
    }

    .game-details .buttons button {
      background: linear-gradient(135deg, #14aaff 60%, #75d5ff 120%);
      /* Gradiente azul nos botões */
      border: none;
      color: #fff;
      padding: 7px 22px;
      font-weight: 600;
      border-radius: 999px;              /* Forma de cápsula */
      cursor: pointer;                   /* Cursor de mão ao passar */
    }

    .side-column {
      display: flex;
      flex-direction: column;            /* Cartões pequenos em coluna */
      gap: 10px;                         /* Espaço entre cartões */
    }

    .side-card {
      background: rgba(8, 12, 24, .65);  /* Fundo escuro semi-transparente */
      border-radius: 14px;               /* Cantos arredondados */
      padding: 6px 10px;                 /* Espaço interno */
      display: flex;
      align-items: center;
      gap: 8px;                          /* Espaço entre imagem e texto */
      border: 1px solid rgba(255, 255, 255, .10); /* Borda clara subtil */
      backdrop-filter: blur(12px);       /* Efeito vidro fosco */
    }

    .side-card img {
      width: 60px;                       /* Largura da miniatura */
      height: 42px;                      /* Altura da miniatura */
      object-fit: contain;               /* Ajusta imagem ao espaço sem cortar */
      border-radius: 10px;               /* Cantos ligeiramente arredondados */
    }

    .side-card .text {
      font-size: .8em;                   /* Texto pequeno */
      color: #dfe8ff;                    /* Cor clara */
    }

    /* ===== UX HINT ===== */
    .hub-hint {
      position: fixed;                   /* Fixa o aviso no fundo da janela */
      left: 50%;
      bottom: 26px;
      transform: translateX(-50%);       /* Centraliza horizontalmente */
      padding: 6px 16px;                 /* Espaço interno */
      background: rgba(10, 14, 28, 0.92); /* Fundo escuro */
      border-radius: 999px;              /* Forma de cápsula */
      border: 1px solid rgba(255, 255, 255, 0.25); /* Borda clara */
      color: #e5f2ff;                    /* Cor do texto */
      font-size: 0.82em;                 /* Tamanho do texto */
      letter-spacing: .06em;             /* Espaço entre letras */
      text-transform: uppercase;         /* Texto em maiúsculas */
      display: flex;
      align-items: center;
      gap: 8px;                          /* Espaço entre partes do texto */
      opacity: 0;                        /* Começa invisível */
      pointer-events: none;              /* Não permite cliques */
      z-index: 30;                       /* Fica acima da maioria dos elementos */
      transition: opacity .4s ease;      /* Anima aparecimento e desaparecimento */
    }

    .hub-hint.visible {
      opacity: 1;                        /* Torna a dica visível */
      pointer-events: auto;              /* Permite cliques (se necessário) */
    }

    .hub-hint span.key {
      padding: 2px 6px;                  /* Espaço interno do “botão” */
      border-radius: 4px;                /* Cantos arredondados */
      border: 1px solid rgba(255, 255, 255, 0.4); /* Borda clara */
      font-size: 0.78em;                 /* Texto ligeiramente menor */
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 1200px) {
      /* Estilos para ecrãs com largura até 1200px (tablets, monitores pequenos) */
      .game-details {
        padding: 28px 32px 40px;         /* Reduz padding do painel inferior */
      }

      .game-details-inner {
        max-width: 100%;                 /* Usa toda a largura disponível */
        grid-template-columns: 260px 1fr 260px; /* Menos colunas, layout mais compacto */
      }

      .side-column {
        gap: 6px;                        /* Menos espaço entre cartões laterais */
      }

      .cover-main {
        height: 180px;                   /* Capa mais baixa para caber melhor */
      }
    }

    @media (max-width: 900px) {
      /* Estilos para ecrãs pequenos (telemóveis / tablets na vertical) */
      .ps4-dashboard {
        padding-left: 20px;              /* Menos espaço à esquerda do carrossel */
      }

      .carousel-inner {
        gap: 22px;                       /* Menos espaço entre cartões */
      }

      .game-details-inner {
        grid-template-columns: 1fr;      /* Apenas uma coluna (tudo em coluna única) */
      }
    }

    /* ===== LOADING HUD ===== */
    .hud-start.loading {
      background: #23283a !important;    /* Muda o fundo quando está a carregar */
    }

    .loading-bar-simple {
      width: 96%;                        /* Barra de loading ocupa quase toda a largura */
      height: 18px;                      /* Altura da barra */
      background: #23283a;               /* Fundo escuro da barra */
      border: 1.5px solid #161b22;       /* Borda da barra */
      overflow: hidden;                  /* Esconde a parte da barra de preenchimento que exceder */
    }

    .loading-bar-simple .fill {
      background: linear-gradient(90deg, #14aaff, #75d5ff);
      /* Preenchimento com gradiente azul */
      height: 100%;
      width: 0%;                         /* Começa vazia (0%) */
      transition: width .2s linear;      /* Aumenta largura de forma suave */
    }

    /* ===== SCREEN FADE ===== */
    #screen-fade {
      position: fixed;                   /* Cobre a janela inteira */
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: black;                 /* Fundo totalmente preto */
      opacity: 0;                        /* Começa transparente */
      pointer-events: none;              /* Não bloqueia cliques até ser usado */
      transition: opacity .7s ease;      /* Animação de fade-in/out */
      z-index: 6000;                     /* Fica acima de quase tudo, mas abaixo do vídeo inaugural */
    }
  </style>
</head>

<body>
  <!-- VÍDEO INTRO: ecrã inicial com vídeo a ocupar toda a janela -->
  <div id="introVideoWrapper">
    <!-- Vídeo que inicia automaticamente, sem som, e adaptado a dispositivos móveis -->
    <video id="introVideo" src="video (2).mp4" autoplay muted playsinline></video>
  </div>

  <!-- OVERLAY BRANCO: usado para fazer um flash/fade entre o vídeo e o conteúdo -->
  <div id="whiteOverlay" class="visible"></div>

  <!-- MODAL RESUMO / ÍNDICE: pop-up com explicação inicial do portefólio -->
  <div id="infoModalOverlay">
    <div id="infoModal">
      <h2>OBRIGADO POR VISITAR</h2>
      <p>Obrigado por explorares este currículo em estilo interface PS4/PS5. Aqui encontras um resumo rápido do conteúdo disponível.</p>
      <p><strong>Índice rápido:</strong></p>
      <ul>
        <li><strong>Documentação</strong> – visão geral do projeto e contexto.</li>
        <li><strong>Autobiografia</strong> – percurso pessoal e motivação.</li>
        <li><strong>UFCD</strong> – evidências da unidade de formação.</li>
        <li><strong>Estágio</strong> – atividades e aprendizagens.</li>
        <li><strong>Última Reflexão</strong> – síntese crítica do percurso.</li>
        <li><strong>Certificados</strong> – provas formais de competências.</li>
      </ul>
      <div class="modal-buttons">
        <!-- Botão que fecha o modal inicial -->
        <button class="modal-btn secondary" id="modalCloseBtn">Fechar</button>
      </div>
    </div>
  </div>

  <!-- MODAL BIBLIOGRAFIA: pop-up para mostrar referências bibliográficas -->
  <div id="biblioModalOverlay">
    <div id="biblioModal">
      <h2>BIBLIOGRAFIA</h2>
      <p>Espaço para listagem das referências bibliográficas usadas nos conteúdos deste portefólio.</p>
      <div class="modal-buttons">
        <!-- Botão para fechar o modal de bibliografia -->
        <button class="modal-btn" id="biblioCloseBtn">Fechar</button>
      </div>
    </div>
  </div>

  <!-- BOTÕES LATERAIS: acesso ao resumo/índice e à bibliografia -->
  <button id="infoToggleBtn" class="hidden">
    <!-- Barrinha azul decorativa -->
    <span class="icon"></span>
    <!-- Texto do botão -->
    <span>Resumo / Índice</span>
  </button>

  <button id="biblioToggleBtn">
    <span class="icon"></span>
    <span>Bibliografia</span>
  </button>

  <!-- HUD TOPO: barra fixa no topo com data/hora e perfil -->
  <div class="top-hud">
    <div class="hud-left">
      <!-- Elemento onde será mostrada a data e hora atualizada via JavaScript -->
      <span class="hud-time-date" id="hudTimeDate"></span>
    </div>
    <div class="hud-center">
      <!-- Área de perfil do utilizador -->
      <div class="profile-area">
        <img src="generated-image-Photoroom.png" class="profile-img" alt="Perfil">
        <span class="profile-name">Ana Silva</span>
      </div>
    </div>
    <div class="hud-right">
      <!-- Espaço reservado para possíveis ícones adicionais no canto direito -->
    </div>
  </div>

  <!-- DASHBOARD 6 CARTÕES: carrossel principal no estilo PS4/PS5 -->
  <div class="dashboard-container" id="dashCont">
    <div class="ps4-dashboard">
      <div class="carousel-inner" id="carousel">
        <!-- Cada "menu-item-wrapper" representa um cartão com o HUD em baixo -->

        <!-- Documentação (primeiro cartão, já vem selecionado por padrão) -->
        <div class="menu-item-wrapper">
          <div class="menu-item selected" tabindex="0">
            <!-- Imagem de capa do cartão de Documentação -->
            <img src="documentacao.jpeg" alt="Documentação">
          </div>
          <div class="hud-row">
            <div class="hud-start">
              <!-- Botão START que leva para a página documentacao.html -->
              <button class="hud-btn" id="hud-start-documentacao">START</button>
            </div>
            <div class="hud-title">Documentação</div>
          </div>
        </div>

        <!-- Autobiografia -->
        <div class="menu-item-wrapper">
          <div class="menu-item" tabindex="0">
            <!-- Imagem de capa do cartão de Autobiografia -->
            <img src="autobiografia.jpeg" alt="Autobiografia">
          </div>
          <div class="hud-row">
            <div class="hud-start">
              <!-- Botão START que leva para a página autobiografia.html -->
              <button class="hud-btn" id="hud-start-autobiografia">START</button>
            </div>
            <div class="hud-title">
              <span class="cd-label-wrap">
                <!-- CD animado ao lado do texto -->
                <span class="cd-small"></span>
                <span>Autobiografia</span>
              </span>
              <!-- Seta para baixo que pisca para indicar que há mais conteúdo -->
              <span class="down-arrow">▼</span>
            </div>
          </div>
        </div>

        <!-- UFCD -->
        <div class="menu-item-wrapper">
          <div class="menu-item" tabindex="0">
            <!-- Imagem de capa do cartão UFCD -->
            <img src="ufcd.png.jpeg" alt="UFCD">
          </div>
          <div class="hud-row">
            <div class="hud-start">
              <!-- Botão START que leva para UFCD.html -->
              <button class="hud-btn" id="hud-start-ufcd">START</button>
            </div>
            <div class="hud-title">
              <span class="cd-label-wrap">
                <span class="cd-small"></span>
                <span>UFCD</span>
              </span>
              <span class="down-arrow">▼</span>
            </div>
          </div>
        </div>

        <!-- Estágio -->
        <div class="menu-item-wrapper">
          <div class="menu-item" tabindex="0">
            <!-- Imagem de capa do cartão Estágio -->
            <img src="estagio.png.jpeg" alt="Estágio">
          </div>
          <div class="hud-row">
            <div class="hud-start">
              <!-- Botão START que leva para estagio.html -->
              <button class="hud-btn" id="hud-start-estagio">START</button>
            </div>
            <div class="hud-title">
              <span class="cd-label-wrap">
                <span class="cd-small"></span>
                <span>Estágio</span>
              </span>
              <span class="down-arrow">▼</span>
            </div>
          </div>
        </div>

        <!-- Última Reflexão -->
        <div class="menu-item-wrapper">
          <div class="menu-item" tabindex="0">
            <!-- Imagem de capa do cartão Última Reflexão -->
            <img src="ultimareflexao.jpeg" alt="Última Reflexão">
          </div>
          <div class="hud-row">
            <div class="hud-start">
              <!-- Botão START que leva para ultima-reflexao.html -->
              <button class="hud-btn" id="hud-start-ultima">START</button>
            </div>
            <div class="hud-title">
              <span class="cd-label-wrap">
                <span class="cd-small"></span>
                <span>Última Reflexão</span>
              </span>
              <span class="down-arrow">▼</span>
            </div>
          </div>
        </div>

        <!-- Certificados -->
        <div class="menu-item-wrapper">
          <div class="menu-item" tabindex="0">
            <!-- Imagem de capa do cartão Certificados -->
            <img src="certificados.jpeg" alt="Certificados">
          </div>
          <div class="hud-row">
            <div class="hud-start">
              <!-- Botão START que leva para certificados.html -->
              <button class="hud-btn" id="hud-start-certificados">START</button>
            </div>
            <div class="hud-title">Certificados</div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- HUBS (detalhes em baixo; última coluna do grid fica vazia) -->

  <!-- HUB 1: Desporto -->
  <div class="game-details" id="gameDetails-1">
    <!-- Botão para voltar ao carrossel (setas para cima) -->
    <button class="scroll-top-btn" onclick="scrollToCarousel()">
      <svg viewBox="0 0 48 48" fill="none">
        <polyline points="16,28 24,20 32,28" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
        <polyline points="16,36 24,28 32,36" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <div class="game-details-inner">
      <!-- Imagem principal de capa do painel Desporto -->
      <img class="cover-main" src="ChatGPT Image 2_08_2025, 19_35_09.png" alt="Desporto">
      <div class="info">
        <h1>DESPORTO</h1>
        <p class="tagline">Natação pura, águas abertas e salvamento aquático desportivo.</p>
        <p><strong>Desporto:</strong> Praticante regular de natação pura, águas abertas e salvamento aquático desportivo, atividades que promovem o desenvolvimento global da condição física, reforço muscular, resistência cardiovascular e respiratória, melhora da flexibilidade, postura e coordenação motora.</p>
        <div class="buttons">
          <!-- Botões de ações dentro do painel detahes (podem abrir outras páginas ou secções) -->
          <button>Ver Troféus</button>
          <button id="hud-desporto-start-detail">START</button>
        </div>
      </div>
      <div class="side-column">
        <!-- Cartão lateral: águas abertas -->
        <div class="side-card">
          <img src="icon_aa.png" alt="Águas abertas">
          <div class="text"><strong>Águas abertas</strong><br>Provas 1.5 km a 10 km.</div>
        </div>
        <!-- Cartão lateral: piscina -->
        <div class="side-card">
          <img src="icon_np.png" alt="Piscina">
          <div class="text"><strong>Piscina</strong><br>Velocidade & Fundo.</div>
        </div>
        <!-- Cartão lateral: salvamento -->
        <div class="side-card">
          <img src="Imagem_WhatsApp_2025-10-26_às_00.09.13_5fb53800-removebg-preview.png" alt="Salvamento">
          <div class="text"><strong>Salvamento aquático</strong><br>Competições e provas técnicas.</div>
        </div>
      </div>
      <div></div> <!-- Última coluna vazia apenas para layout -->
    </div>
  </div>

  <!-- HUB 2: Educação -->
  <div class="game-details" id="gameDetails-2">
    <button class="scroll-top-btn" onclick="scrollToCarousel()">
      <svg viewBox="0 0 48 48" fill="none">
        <polyline points="16,28 24,20 32,28" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
        <polyline points="16,36 24,28 32,36" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <div class="game-details-inner">
      <!-- Imagem principal de capa do painel Educação -->
      <img class="cover-main" src="ChatGPT Image 2_08_2025, 20_24_46.png" alt="Educação">
      <div class="info">
        <h1>EDUCAÇÃO</h1>
        <p class="tagline">Percurso académico em tecnologia e saúde.</p>
        <p><strong>Educação</strong>: Percorri várias etapas académicas desafiantes, incluindo o curso de Ciências e Tecnologias no ensino secundário e a licenciatura em Tecnologia Biomédica. Estou empenhado em aprofundar continuamente os meus conhecimentos e tenciono prosseguir os meus estudos muito além da licenciatura, reforçando o meu compromisso com a aprendizagem ao longo da vida e o desenvolvimento profissional. Para ver mais informação sobre os meus estudos, carregue em START.</p>
        <div class="buttons">
          <button>Ver Troféus</button>
          <button id="hud-educacao-start-detail">START</button>
        </div>
      </div>
      <div class="side-column">
        <!-- Cartão lateral: Tecnologia Biomédica -->
        <div class="side-card">
          <img src="TecnologiaSetubal_Principal_PolicromiaPositivo_PT-1.png" alt="Tecnologia Biomédica">
          <div class="text"><strong>Tecnologia Biomédica</strong><br>Licenciatura.</div>
        </div>
        <!-- Cartão lateral: UC isoladas -->
        <div class="side-card">
          <img src="ISEL.png" alt="Secundário">
          <div class="text"><strong>Unidades Curriculares Isoladas</strong><br>Engenharia Biomédica.</div>
        </div>
      </div>
      <div></div>
    </div>
  </div>

  <!-- HUB 3: Formações -->
  <div class="game-details" id="gameDetails-3">
    <button class="scroll-top-btn" onclick="scrollToCarousel()">
      <svg viewBox="0 0 48 48" fill="none">
        <polyline points="16,28 24,20 32,28" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
        <polyline points="16,36 24,28 32,36" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <div class="game-details-inner">
      <!-- Imagem principal de capa do painel Formações -->
      <img class="cover-main" src="ChatGPT Image 2_08_2025, 21_42_43.png" alt="Formações">
      <div class="info">
        <h1>FORMAÇÕES</h1>
        <p class="tagline">Cursos complementares em tecnologia e saúde.</p>
        <p><strong>Formações</strong>: Ao longo do meu percurso participei em várias formações e cursos complementares, contribuindo significativamente para a expansão dos meus conhecimentos práticos e teóricos. Estes cursos permitiram-me adquirir novas competências técnicas e desenvolver uma visão mais abrangente e multidisciplinar sobre temas relevantes para a minha área de interesse. Para ver mais informação sobre as minhas formações e cursos, carregue em START.</p>
        <div class="buttons">
          <button>Ver Troféus</button>
          <button id="hud-formacoes-start-detail">START</button>
        </div>
      </div>
      <div class="side-column">
        <!-- Cartão lateral: carta de navegação -->
        <div class="side-card">
          <img src="image (4).png" alt="Carta de navegação">
          <div class="text"><strong>Carta de navegação de recreio</strong><br>Carta de Patão Local.</div>
        </div>
        <!-- Cartão lateral: Surf & Rescue -->
        <div class="side-card">
          <img src="image (2).png" alt="Surf & Rescue">
          <div class="text"><strong>Surf & Rescue</strong><br>Formação de salvamentos com auxílio de prancha.</div>
        </div>
      </div>
      <div></div>
    </div>
  </div>

  <!-- HUB 4: Experiências -->
  <div class="game-details" id="gameDetails-4">
    <button class="scroll-top-btn" onclick="scrollToCarousel()">
      <svg viewBox="0 0 48 48" fill="none">
        <polyline points="16,28 24,20 32,28" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
        <polyline points="16,36 24,28 32,36" stroke="#1da1f2" stroke-width="4" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <div class="game-details-inner">
      <!-- Imagem principal de capa do painel Experiências -->
      <img class="cover-main" src="ChatGPT Image 2_08_2025, 21_47_32.png" alt="Experiências">
      <div class="info">
        <h1>EXPERIÊNCIAS</h1>
        <p class="tagline">Estágios e projetos em contexto real.</p>
        <p><strong>Experiências</strong>: Integrei diferentes contextos de trabalho e estágios, onde aprofundei conhecimentos técnicos e desenvolvi competências essenciais como trabalho em equipa multidisciplinar, comunicação e gestão de desafios reais. Para ver mais informação sobre as minhas experiências profissionais e estágios, carregue em START.</p>
        <div class="buttons">
          <button>Ver Troféus</button>
          <button id="hud-experiencias-start-detail">START</button>
        </div>
      </div>
      <div class="side-column">
        <!-- Cartão lateral: estágios -->
        <div class="side-card">
          <img src="thumb_estagios.png" alt="Estágios">
          <div class="text"><strong>Estágios</strong><br>Contextos clínicos e I&amp;D.</div>
        </div>
      </div>
      <div></div>
    </div>
  </div>

  <!-- Dica visual para o utilizador saber que pode carregar START ou seta ↓ -->
  <div id="hubHint" class="hub-hint">
    <span>Carrega</span>
    <span class="key">START</span>
    <span>ou</span>
    <span class="key">↓</span>
    <span>para ver mais</span>
  </div>

  <!-- Elemento de fade preto usado ao mudar de página (em START) -->
  <div id="screen-fade"></div>

  <script>
    // ===== FUNÇÃO PARA ATUALIZAR DATA/HORA NO HUD SUPERIOR =====
    function updateHudTime() {
      const el = document.getElementById('hudTimeDate'); // seleciona o span que mostra a data/hora
      if (!el) return; // se não existir, sai da função

      const now = new Date(); // cria um objeto com a data/hora atual

      // Cria uma string com dia/mês e hora:minuto (formato português)
      el.textContent =
        now.toLocaleDateString('pt-PT', { day: '2-digit', month: '2-digit' }) + ' ' +
        now.toLocaleTimeString('pt-PT', { hour: '2-digit', minute: '2-digit' });
    }

    // Atualiza o HUD a cada 1 segundo (1000 ms)
    setInterval(updateHudTime, 1000);
    // Chama uma vez imediatamente para não ficar em branco até ao primeiro intervalo
    updateHudTime();

    // ===== SELEÇÃO DE ELEMENTOS PRINCIPAIS DO CARROSSEL E HUB =====
    const carousel = document.getElementById('carousel'); // div que contém todos os cartões
    const allItems = carousel.querySelectorAll('.menu-item'); // todos os cartões (imagens grandes)
    const hudRows = document.querySelectorAll('.hud-row'); // todas as linhas HUD por baixo de cada cartão
    const hudTitles = carousel.querySelectorAll('.hud-title'); // todos os títulos HUD (ao lado do START)
    const dashboardsContainer = document.getElementById('dashCont'); // container do dashboard/carrossel

    // Array com os painéis de detalhe (game-details-1...4), indexado a partir de 1
    const gameDetailsPanels = [
      null, // posição 0 vazia (não usada para facilitar indexação)
      document.getElementById('gameDetails-1'),
      document.getElementById('gameDetails-2'),
      document.getElementById('gameDetails-3'),
      document.getElementById('gameDetails-4')
    ];

    const hubHint = document.getElementById('hubHint'); // elemento da dica "Carrega START..."

    // Estado atual
    let selected = 0;     // índice do cartão atualmente selecionado (0 = Documentação)
    let expanded = false; // indica se o painel inferior (hub) está expandido
    let hintShown = false; // indica se a dica já foi mostrada pelo menos uma vez

    // Dimensões usadas para calcular o movimento do carrossel
    const quadW = 160; // largura base de cada cartão
    const gap = 38;    // espaço horizontal entre cartões

    // ===== NOVO: ABRANDA A VELOCIDADE DO SCROLL COM A RODA DO RATO =====
    // Listener para a roda do rato (scroll) no carrossel.
    // Transforma o movimento vertical da roda (deltaY) em scroll horizontal.
    // O factor < 1 abranda o scroll (aqui 0.25 = 25% da velocidade normal).
    carousel.addEventListener('wheel', (event) => {
      event.preventDefault();      // impede o scroll padrão da página
      const factor = 0.25;        // quanto menor, mais lento o scroll horizontal
      // Soma ao scrollLeft do carrossel uma fração do deltaY (valor da roda do rato)
      carousel.scrollLeft += event.deltaY * factor;
    }, { passive: false }); // passive: false para permitir o preventDefault em todos os browsers modernos[web:6]

    // ===== FUNÇÃO QUE MOVE O CARROSSEL PARA CENTRAR O CARTÃO SELECIONADO =====
    function moveCarousel(idx) {
      // Ajusta a posição X do carrossel para que o cartão com índice idx fique centrado
      carousel.style.transform =
        `translateX(calc(50vw - 90px - ${(quadW + gap) * idx + quadW / 2}px))`;
    }

    // Remove todas as classes de fundo dinâmico do body
    function clearWallpapers() {
      document.body.classList.remove(
        'bg-dynamic-1', 'bg-dynamic-2', 'bg-dynamic-3', 'bg-dynamic-4',
        'bg-dynamic', 'gradient-fade', 'hub-open'
      );
    }

    // Esconde a dica (hubHint)
    function hideHint() {
      hubHint.classList.remove('visible');
    }

    // Mostra a dica apenas uma vez (para não chatear o utilizador sempre)
    function showHintOnce() {
      if (hintShown) return; // se já foi mostrada antes, não faz mais nada
      hintShown = true;      // marca como já mostrado
      hubHint.classList.add('visible'); // torna a dica visível

      // Passados 4 segundos, esconde automaticamente
      setTimeout(hideHint, 4000);
    }

    // Atualiza o cartão HUD selecionado (visual) e o carrossel
    function updateHUD(idx) {
      // Se já estiver expandido ou se o índice for o mesmo que o atual, não faz nada
      if (expanded || idx === selected) return;

      // Retira a classe "selected" do cartão anterior
      allItems[selected].classList.remove('selected');
      // Atualiza o índice selecionado
      selected = idx;
      // Aplica a classe "selected" ao novo cartão
      allItems[selected].classList.add('selected');

      // Mostra apenas a hud-row correspondente ao cartão selecionado
      hudRows.forEach((row, i) => {
        row.style.display = (i === selected) ? 'flex' : 'none';
      });

      // Move o carrossel para centrar o cartão escolhido
      moveCarousel(idx);
      // Limpa os fundos
      clearWallpapers();
    }

    // Expande o painel de detalhes (hub em baixo) para o cartão selecionado
    function expandDetails() {
      // Só permite expandir para os cartões 1,2,3,4 (que têm hubs configurados) e se ainda não estiver expandido
      if (![1, 2, 3, 4].includes(selected) || expanded) return;

      expanded = true; // marca que o hub está aberto
      dashboardsContainer.classList.add('expanded'); // sobe o dashboard

      // Esconde todos os painéis de detalhes
      for (let i = 1; i <= 4; i++) {
        if (gameDetailsPanels[i]) gameDetailsPanels[i].classList.remove('visible');
      }

      // Mostra apenas o painel correspondente ao cartão selecionado
      if (gameDetailsPanels[selected]) gameDetailsPanels[selected].classList.add('visible');

      // Marca o título da HUD do cartão selecionado (pode ser usado para um estilo especial)
      hudTitles.forEach((t, i) => t.classList.toggle('exp-arrow', i === selected));

      // Limpa fundos e ativa o fundo dinâmico correspondente
      clearWallpapers();
      document.body.classList.add('bg-dynamic-' + selected, 'bg-dynamic', 'gradient-fade', 'hub-open');

      // Mostra a dica de START/↓ uma só vez
      showHintOnce();
    }

    // Fecha o painel de detalhes e volta ao estado normal do carrossel
    function collapseDetails() {
      expanded = false; // marca que já não está aberto

      dashboardsContainer.classList.remove('expanded'); // desce o dashboard

      // Esconde todos os painéis de detalhes
      for (let i = 1; i <= 4; i++) {
        if (gameDetailsPanels[i]) gameDetailsPanels[i].classList.remove('visible');
      }

      // Remove o destaque do título do cartão
      hudTitles.forEach(t => t.classList.remove('exp-arrow'));

      // Remove fundos dinâmicos
      clearWallpapers();

      // Esconde a dica (se estiver visível)
      hideHint();
    }

    // Adiciona click aos títulos HUD para abrir os detalhes do cartão selecionado
    hudTitles.forEach((t, i) => {
      t.addEventListener('click', () => {
        // Só expande se o cartão cujo título foi clicado for o selecionado e ainda não estiver expandido
        if (selected === i && !expanded) expandDetails();
      });
    });

    // ===== CONTROLOS POR TECLADO =====
    document.addEventListener('keydown', e => {
      // Se NÃO está expandido, e um cartão (exceto o 0) está selecionado
      // e o utilizador carrega seta ↓ ou PageDown, abre os detalhes
      if (!expanded && selected > 0 && (e.key === 'ArrowDown' || e.key === 'PageDown')) expandDetails();

      // Se está expandido, setas ↑ ou Esc fecham os detalhes
      if (expanded && (e.key === 'Escape' || e.key === 'ArrowUp')) collapseDetails();

      // Se já está expandido, ignorar as setas esquerda/direita (não mexer o carrossel)
      if (expanded) return;

      // Se seta → e ainda não está no último cartão, seleciona o próximo
      if (e.key === 'ArrowRight' && selected < allItems.length - 1) updateHUD(selected + 1);

      // Se seta ← e não está no primeiro cartão, seleciona o anterior
      if (e.key === 'ArrowLeft' && selected > 0) updateHUD(selected - 1);
    });

    // ===== INTERAÇÕES COM OS CARTÕES (FOCUS, CLICK, HOVER) =====
    allItems.forEach((item, idx) => {
      // Quando o cartão ganha foco (tab teclado), atualiza HUD
      item.addEventListener('focus', () => {
        if (!expanded) updateHUD(idx);
      });

      // Quando se clica no cartão, também atualiza HUD
      item.addEventListener('click', () => {
        if (!expanded) updateHUD(idx);
      });

      // Quando o rato passa por cima de um cartão, atualiza HUD
      item.addEventListener('mouseover', () => {
        if (!expanded) updateHUD(idx);
      });
    });

    // Inicializa o carrossel com o cartão 0 na posição certa
    moveCarousel(selected);

    // Mostra apenas a hud-row do cartão inicial (Documentação)
    hudRows.forEach((row, i) => {
      row.style.display = (i === selected) ? 'flex' : 'none';
    });

    // ===== FUNÇÃO PARA VOLTAR AO CARROSSEL A PARTIR DO HUB =====
    function scrollToCarousel() {
      // Fecha os detalhes
      collapseDetails();

      // Faz o scroll suave até ao carrossel (embora ele esteja fixo, isto ajuda se estiver dentro de outra estrutura)
      document.querySelector(".carousel-inner")
        .scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // ===== LÓGICA DO LOADING E TRANSIÇÃO PARA OUTRAS PÁGINAS =====
    const screenFade = document.getElementById('screen-fade'); // overlay preto de fade

    // Função genérica que faz animação de loading e depois muda de página
    function genericHudLoading(button, url) {
      if (!button || button.disabled) return; // se o botão já estiver desativado, sai

      button.disabled = true; // desativa o botão para não poder ser clicado outra vez

      // Seleciona a div .hud-start mais próxima do botão
      const hudStartDiv = button.closest('.hud-start');
      hudStartDiv.classList.add('loading'); // aplica estilo de "loading"
      hudStartDiv.innerHTML = '';          // limpa o conteúdo (remove o botão)

      // Cria a barra de loading
      const loadingBar = document.createElement('div');
      loadingBar.classList.add('loading-bar-simple');
      const fill = document.createElement('div');
      fill.classList.add('fill');          // parte que vai enchendo
      loadingBar.appendChild(fill);
      hudStartDiv.appendChild(loadingBar);

      // Variáveis para controlar a animação da barra de loading
      let widthPercent = 0;      // percentagem de preenchimento da barra
      let frame = 0;             // contador de "frames" (passos da animação)
      const totalDuration = 3000; // tempo total da animação em milissegundos (3 segundos)
      const frameCount = 60;     // número de passos (60 frames)
      const increment = 100 / frameCount; // quanto aumenta a largura em cada passo
      const frameDuration = totalDuration / frameCount; // tempo entre cada passo

      // Intervalo que vai atualizando a barra de loading
      const interval = setInterval(() => {
        frame++;
        widthPercent += increment;
        if (widthPercent > 100) widthPercent = 100; // garante que não ultrapassa 100%

        fill.style.width = widthPercent + '%'; // atualiza a largura visual da barra

        if (frame >= frameCount) {
          // Quando a animação da barra termina
          clearInterval(interval);

          setTimeout(() => {
            // Faz o ecrã preto aparecer (fade-in)
            screenFade.style.opacity = '1';
            screenFade.style.pointerEvents = 'none';

            // Depois de 700 ms, muda efetivamente para a nova página
            setTimeout(() => { window.location.href = url; }, 700);
          }, 400); // espera um pouco antes de iniciar o fade
        }
      }, frameDuration);
    }

    // ===== CLICK DOS BOTÕES START DE CADA CARTÃO (NAVEGAÇÃO ENTRE PÁGINAS) =====
    document.getElementById('hud-start-documentacao')?.addEventListener('click', e => {
      e.preventDefault(); // previne comportamento padrão do clique
      genericHudLoading(e.currentTarget, 'documentacao.html'); // chama loading e depois abre página
    });

    document.getElementById('hud-start-autobiografia')?.addEventListener('click', e => {
      e.preventDefault();
      genericHudLoading(e.currentTarget, 'autobiografia.html');
    });

    document.getElementById('hud-start-ufcd')?.addEventListener('click', e => {
      e.preventDefault();
      genericHudLoading(e.currentTarget, 'UFCD.html');
    });

    document.getElementById('hud-start-estagio')?.addEventListener('click', e => {
      e.preventDefault();
      genericHudLoading(e.currentTarget, 'estagio.html');
    });

    document.getElementById('hud-start-ultima')?.addEventListener('click', e => {
      e.preventDefault();
      genericHudLoading(e.currentTarget, 'ultima-reflexao.html');
    });

    document.getElementById('hud-start-certificados')?.addEventListener('click', e => {
      e.preventDefault();
      genericHudLoading(e.currentTarget, 'certificados.html');
    });

    // ------------ INTRO (vídeo + pop-up) com skipIntro ------------

    // Obtém os parâmetros da query string (exemplo: ?skipIntro=1)
    const urlParams = new URLSearchParams(window.location.search);
    // Verifica se o parâmetro skipIntro é igual a '1'
    const skipIntro = urlParams.get('skipIntro') === '1';

    // Seleciona elementos relacionados com o vídeo e o overlay branco
    const introVideo = document.getElementById('introVideo');
    const introWrapper = document.getElementById('introVideoWrapper');
    const whiteOverlayEl = document.getElementById('whiteOverlay');

    // Elementos do modal do resumo/índice
    const infoModalOverlayEl = document.getElementById('infoModalOverlay');
    const infoToggleBtnEl = document.getElementById('infoToggleBtn');
    const modalCloseBtnEl = document.getElementById('modalCloseBtn');

    // Função para mostrar o modal do resumo/índice
    function showModal() {
      infoModalOverlayEl?.classList.add('visible');
    }

    // Função para esconder o modal do resumo/índice,
    // mas deixar o botão "Resumo / Índice" visível
    function hideModal() {
      infoModalOverlayEl?.classList.remove('visible');
      infoToggleBtnEl?.classList.remove('hidden');
    }

    // Quando se clica no botão "Fechar" do modal, esconde o modal
    modalCloseBtnEl?.addEventListener('click', hideModal);
    // Quando se clica no botão lateral "Resumo / Índice", mostra o modal
    infoToggleBtnEl?.addEventListener('click', showModal);

    // Sequência da transição do vídeo de introdução para o conteúdo
    function startWhiteFadeSequence() {
      if (!whiteOverlayEl || !introWrapper) return;

      // Faz o overlay branco aparecer (flash) por cima
      whiteOverlayEl.classList.add('visible');

      // Começa a fazer o vídeo desaparecer (fade-out)
      introWrapper.style.opacity = '0';
      introWrapper.style.transition = 'opacity 0.6s ease';

      // Depois de 0.6s, esconde completamente o wrapper do vídeo
      setTimeout(() => {
        introWrapper.style.display = 'none';
      }, 600);

      // Pequeno atraso antes de começar a desaparecer o branco
      setTimeout(() => {
        whiteOverlayEl.classList.add('fade-out');

        setTimeout(() => {
          // Esconde totalmente o overlay branco
          whiteOverlayEl.style.display = 'none';

          // Abre o pop-up de resumo/índice pela primeira vez
          showModal();
          // Enquanto o pop-up está aberto, o botão fica escondido
          infoToggleBtnEl?.classList.add('hidden');
        }, 1900); // tempo extra para o fade-out completo
      }, 200);
    }

    // Se a página for aberta com ?skipIntro=1,
    // não mostra vídeo nem pop-up automático
    if (skipIntro) {
      if (introWrapper) introWrapper.style.display = 'none';
      if (whiteOverlayEl) whiteOverlayEl.style.display = 'none';
      // Mostra apenas o botão "Resumo / Índice" para abrir o modal manualmente
      infoToggleBtnEl?.classList.remove('hidden');
    } else {
      // Fluxo normal: o vídeo corre até ao fim e depois executa a sequência de fade
      introVideo?.addEventListener('ended', startWhiteFadeSequence);

      // Se por algum motivo o vídeo demorar demais (15s),
      // força a sequência de fade para avançar
      setTimeout(() => {
        if (introWrapper && introWrapper.style.display !== 'none') {
          startWhiteFadeSequence();
        }
      }, 15000);
    }

    // ===== MODAL BIBLIOGRAFIA (ABRIR/FECHAR) =====
    const biblioModalOverlayEl = document.getElementById('biblioModalOverlay');
    const biblioToggleBtnEl = document.getElementById('biblioToggleBtn');
    const biblioCloseBtnEl = document.getElementById('biblioCloseBtn');

    // Mostra o modal de bibliografia
    function showBiblioModal() {
      biblioModalOverlayEl.classList.add('visible');
    }

    // Esconde o modal de bibliografia
    function hideBiblioModal() {
      biblioModalOverlayEl.classList.remove('visible');
    }

    // Ao clicar no botão lateral de Bibliografia, abre o modal
    biblioToggleBtnEl.addEventListener('click', showBiblioModal);

    // Ao clicar no botão "Fechar" dentro do modal, fecha-o
    biblioCloseBtnEl.addEventListener('click', hideBiblioModal);
  </script>
</body>

</html>
