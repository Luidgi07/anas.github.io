<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Experi√™ncias - PS4 Carousel com PDFs</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    html,body{
      width:100vw;height:100vh;
      background:radial-gradient(circle at top,#1e2a3d 0%,#05070b 55%,#000000 100%);
      font-family:'Segoe UI',Arial,sans-serif;
      color:#f5f7fa;overflow:hidden;
    }
    .top-hud{
      position:fixed;top:0;left:0;width:100vw;height:58px;
      background:rgba(18,26,36,0.90);
      display:flex;align-items:center;padding:0 32px;
      z-index:9999;border-bottom:2.5px solid #42aaff;
      box-shadow:0 2px 18px #12244477;
    }
    .hud-left{display:flex;align-items:center;gap:18px;}
    .back-btn{
      background:none;border:none;color:#e9f5fa;font-size:1.5em;
      cursor:pointer;display:flex;align-items:center;justify-content:center;
      width:40px;height:40px;transition:filter .12s;
    }
    .back-btn:hover{filter:brightness(1.22) drop-shadow(0 2px 6px #069cffbb);}
    .hud-title{font-size:1.3em;font-weight:600;letter-spacing:.06em;color:#42aaff;}

    .carousel-section{
      position:fixed;top:58px;left:0;width:100vw;height:320px;
      overflow:hidden;padding:40px 0 40px 90px;
      background:linear-gradient(to bottom,rgba(0,0,0,0.2),transparent);
    }
    .carousel-track{
      display:flex;gap:38px;align-items:flex-end;
      transition:transform .43s cubic-bezier(.42,1,.72,1);
    }
    .carousel-item-wrapper{
      position:relative;display:flex;flex-direction:column;align-items:center;
    }
    .carousel-item{
      width:160px;height:240px;background:#23283a;border:2.5px solid transparent;
      border-radius:8px;cursor:pointer;overflow:hidden;
      display:flex;align-items:center;justify-content:center;position:relative;
      transition:transform .22s cubic-bezier(.32,1.35,.62,1),
                 box-shadow .18s,border .18s;
    }
    .carousel-item img{width:100%;height:100%;object-fit:cover;}
    .carousel-item::after{
      content:'';position:absolute;inset:0;
      background:linear-gradient(135deg,rgba(0,0,0,0.3),rgba(66,170,255,0.1));
      pointer-events:none;
    }
    .carousel-item.selected{
      transform:scale(1.22);
      box-shadow:0 0 40px 5px #42aaffcc,0 5px 35px #000c;
      border-color:#42aaff;
    }
    .item-label{
      display:none;position:absolute;bottom:-45px;left:50%;
      transform:translateX(-50%);
      background:rgba(10,14,28,0.88);
      padding:8px 16px;border-radius:6px;
      border:1px solid rgba(66,170,255,0.3);
      white-space:nowrap;color:#f5f7fa;font-size:.9em;font-weight:500;
    }
    .carousel-item.selected ~ .item-label{display:block;}

    .detail-section{
      position:fixed;top:378px;left:0;width:100vw;
      height:calc(100vh - 378px);overflow-y:auto;
      padding:40px 90px 60px;
      background:linear-gradient(to bottom,rgba(0,0,0,0.1),transparent);
    }

    .detail-inner{
      display:grid;
      grid-template-columns:300px 1.1fr 240px 260px;
      gap:28px;align-items:start;max-width:1500px;
    }

    .cover-image{
      width:100%;height:240px;border-radius:16px;border:2px solid #42aaff;
      object-fit:cover;box-shadow:0 8px 32px rgba(0,0,0,0.4);
    }
    .info-central{color:#f5f7fa;display:flex;flex-direction:column;}
    .info-central h1{
      font-size:2.1em;letter-spacing:.14em;text-transform:uppercase;
      margin:0 0 8px;text-shadow:0 3px 10px #000;font-weight:600;color:#42aaff;
    }
    .info-central .tagline{margin:0 0 16px;opacity:.9;font-weight:500;color:#dfe8ff;}
    .info-central p{margin:0 0 12px;font-size:.95em;line-height:1.6;color:#dfe8ff;}
    .info-buttons{margin-top:16px;display:flex;gap:12px;flex-wrap:wrap;}
    .btn-detail{
      background:linear-gradient(135deg,#14aaff 60%,#75d5ff 120%);
      border:none;color:#fff;padding:10px 22px;font-weight:600;
      border-radius:6px;cursor:pointer;font-size:.9em;letter-spacing:.04em;
      transition:all .3s ease;
    }
    .btn-detail:hover{
      transform:translateY(-2px);
      box-shadow:0 8px 20px rgba(20,170,255,0.4);
    }

    .side-column{display:flex;flex-direction:column;gap:12px;}
    .side-card{
      background:rgba(8,12,24,0.65);border-radius:12px;padding:12px;
      display:flex;flex-direction:column;
      border:1px solid rgba(255,255,255,0.10);
      backdrop-filter:blur(12px);transition:all .3s ease;
    }
    .side-card:hover{
      background:rgba(20,50,100,0.8);
      border-color:rgba(66,170,255,0.3);
    }
    .side-card-title{font-weight:600;color:#42aaff;font-size:.95em;margin-bottom:4px;}
    .side-card-text{font-size:.85em;color:#dfe8ff;opacity:.8;line-height:1.4;}

    .details-column{display:flex;flex-direction:column;gap:16px;}

    /* CAIXA COM SCROLL + BARRA AZUL ANIMADA */
    .detail-box{
      position:relative;
      border-radius:16px;
      border:2px solid #42aaff;
      box-shadow:0 10px 30px rgba(0,0,0,0.7);
      background:rgba(8,12,24,0.8);
      max-height:280px;
    }
    .detail-box-content{
      width:100%;
      max-height:280px;
      overflow-y:auto;
      padding:20px;
      display:flex;
      flex-direction:column;
      color:#dfe8ff;
      font-size:.9em;
      line-height:1.6;
      scrollbar-width:none;
    }
    .detail-box-content::-webkit-scrollbar{width:0;}

    .scroll-track{
      position:absolute;
      top:10px;
      right:8px;
      width:4px;
      bottom:10px;
      border-radius:999px;
      background:rgba(255,255,255,0.05);
    }
    .scroll-thumb{
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:35px;
      border-radius:999px;
      background:linear-gradient(180deg,#42aaff,#75d5ff);
    }

    .detail-box-content h3{
      color:#42aaff;margin:0 0 12px;font-size:1em;font-weight:600;
    }
    .detail-box-content ul{margin:0;padding-left:18px;list-style:none;}
    .detail-box-content li{margin-bottom:8px;}
    .detail-box-content li::before{
      content:'‚úì ';color:#42aaff;font-weight:600;margin-right:6px;
    }
    .skills-section{
      margin-top:16px;padding-top:16px;
      border-top:1px solid rgba(66,170,255,0.2);
    }
    .skills-wrap{display:flex;flex-wrap:wrap;gap:6px;}
    .skill-tag{
      background:rgba(66,170,255,0.15);
      border:1px solid rgba(66,170,255,0.4);
      color:#42aaff;padding:4px 10px;border-radius:12px;
      font-size:.8em;font-weight:500;
    }

    .pdf-box{
      position:relative;
      border-radius:16px;
      border:2px solid #42aaff;
      background:rgba(8,12,24,0.9);
      padding:16px 18px;
      box-shadow:0 10px 30px rgba(0,0,0,0.7);
      max-height:280px;
      overflow:hidden;
    }
    .pdf-box-inner{
      max-height:248px;
      overflow-y:auto;
      padding-right:8px;
      scrollbar-width:none;
    }
    .pdf-box-inner::-webkit-scrollbar{width:0;}

    .pdf-box h3{
      margin:0 0 10px;
      font-size:1em;
      font-weight:600;
      color:#42aaff;
    }
    .pdf-item{
      display:flex;
      align-items:center;
      gap:10px;
      padding:6px 4px;
      border-radius:10px;
      cursor:pointer;
      text-decoration:none;
      transition:background .2s ease, transform .15s ease;
    }
    .pdf-item:hover{
      background:rgba(66,170,255,0.12);
      transform:translateX(2px);
    }
    .pdf-icon{
      width:26px;height:26px;border-radius:6px;
      background:linear-gradient(135deg,#ff4b4b,#ff9b71);
      display:flex;align-items:center;justify-content:center;
      color:#fff;font-weight:700;font-size:.8em;
      box-shadow:0 0 10px rgba(0,0,0,.4);
    }
    .pdf-text-main{font-size:.9em;color:#f5f7fa;font-weight:500;}
    .pdf-text-sub{font-size:.78em;color:#c5d6ff;opacity:.85;}
  </style>
</head>
<body>
  <div class="top-hud">
    <div class="hud-left">
      <button class="back-btn" onclick="window.location.href='index.html?skipIntro=1'">‚Üê</button>
      <span class="hud-title">EXPERI√äNCIAS</span>
    </div>
  </div>

  <div class="carousel-section">
    <div class="carousel-track" id="carouselTrack"></div>
  </div>

  <div class="detail-section" id="detailSection"></div>

  <script>
    const experiencias = [
      {
        id: 1,
        title: "ANL",
        role: "Juiz de 3¬™ de nata√ß√£o pura",
        description: "Participa√ß√£o como juiz de competi√ß√µes de nata√ß√£o pura, garantindo conformidade com regulamentos internacionais.",
        carouselImage: "cardanl.png",
        cover: "cardanl.png",
        sideCards: [
          { title: "Compet√™ncias", text: "Conhecimento de regulamentos internacionais de nata√ß√£o." },
          { title: "Responsabilidades", text: "Supervis√£o de provas e garantia de conformidade." },
          { title: "√Årea", text: "Nata√ß√£o pura - Competi√ß√µes locais e nacionais." }
        ],
        responsibilities: [
          "Supervisar competi√ß√µes de nata√ß√£o pura",
          "Garantir conformidade com regulamentos FINA",
          "Validar tempos e resultados",
          "Coordenar com outros ju√≠zes",
          "Comunicar com treinadores e nadadores",
          "Analisar relat√≥rios p√≥s-prova"
        ],
        skills: ["Regulamentos Nata√ß√£o", "Supervis√£o de Eventos", "Cronometragem", "Conformidade FINA"],
        achievements: [
          "Certifica√ß√£o como Juiz N√≠vel 3",
          "Participa√ß√£o em m√∫ltiplas competi√ß√µes"
        ],
        pdfs: [
          {
            file: "pdfs/anl_relatorio.pdf",
            titulo: "Relat√≥rio de Atividades ANL",
            subtitulo: "Resumo detalhado das provas e fun√ß√µes exercidas."
          },
          {
            file: "pdfs/anl_certificado.pdf",
            titulo: "Certificado Juiz de Nata√ß√£o",
            subtitulo: "Certifica√ß√£o emitida pela associa√ß√£o de nata√ß√£o."
          },
          {
            file: "pdfs/anl_regulamentos.pdf",
            titulo: "Regulamentos principais",
            subtitulo: "Regras base aplicadas √†s competi√ß√µes."
          },
          {
            file: "pdfs/anl_formacao.pdf",
            titulo: "Plano de forma√ß√£o cont√≠nua",
            subtitulo: "Conte√∫dos das a√ß√µes de forma√ß√£o internas."
          },
          {
            file: "pdfs/anl_outro.pdf",
            titulo: "Outros documentos",
            subtitulo: "Material adicional de apoio √†s provas."
          }
        ]
      },
      {
        id: 2,
        title: "CardioID",
        role: "Est√°gio em An√°lise de Sinais Biom√©dicos",
        description: "Est√°gio em an√°lise de sinais card√≠acos e processamento de dados ECG em contexto cl√≠nico real.",
        carouselImage: "cardcardioid.png",
        cover: "cardcardioid.png",
        sideCards: [
          { title: "An√°lise ECG", text: "Processamento avan√ßado de sinais card√≠acos em tempo real." },
          { title: "Investiga√ß√£o", text: "Algoritmos de detec√ß√£o autom√°tica de anomalias." },
          { title: "Integra√ß√£o", text: "Integra√ß√£o com sistemas cl√≠nicos e PACS." }
        ],
        responsibilities: [
          "Aquisi√ß√£o e processamento de sinais ECG",
          "Desenvolvimento de algoritmos em Python",
          "Valida√ß√£o de m√©tricas de desempenho",
          "Produ√ß√£o de documenta√ß√£o t√©cnica"
        ],
        skills: ["Python", "ECG", "DSP", "Pandas", "FFT"],
        achievements: [
          "Prototipagem de algoritmo de detec√ß√£o de arritmias"
        ],
        pdfs: [
          {
            file: "pdfs/cardioid_relatorio.pdf",
            titulo: "Relat√≥rio de Est√°gio CardioID",
            subtitulo: "Descri√ß√£o das tarefas, resultados e conclus√µes."
          }
        ]
      },
      /* restantes experi√™ncias 3‚Äì10 sem PDFs extra para exemplo */
      ...Array.from({length:8},(_,i)=>{
        const id=3+i;
        const titles=["Careceiver","ArteFisio","IBEB","TEC2MED","Patient Innovation","Nadador-Salvador","Tripulante Ambul√¢ncia","Trabalhos / Testes"];
        return{
          id,
          title: titles[i] || ("Experi√™ncia "+id),
          role:"Fun√ß√£o / Cargo",
          description:"Descri√ß√£o da experi√™ncia "+id+".",
          carouselImage:"card"+id+".png",
          cover:"card"+id+".png",
          sideCards:[
            {title:"Ponto 1",text:"Descri√ß√£o do ponto 1."},
            {title:"Ponto 2",text:"Descri√ß√£o do ponto 2."},
            {title:"Ponto 3",text:"Descri√ß√£o do ponto 3."}
          ],
          responsibilities:["Responsabilidade 1","Responsabilidade 2","Responsabilidade 3"],
          skills:["Skill 1","Skill 2","Skill 3"],
          achievements:["Realiza√ß√£o 1","Realiza√ß√£o 2"],
          pdfs:[]
        };
      }),
      /* placeholders 11‚Äì34 */
      ...Array.from({length:24},(_,i)=>{
        const id=11+i;
        return{
          id,
          title:"Experi√™ncia "+id,
          role:"Fun√ß√£o / Cargo",
          description:"Descri√ß√£o da experi√™ncia "+id+".",
          carouselImage:"card"+id+".png",
          cover:"card"+id+".png",
          sideCards:[
            {title:"Ponto 1",text:"Descri√ß√£o do ponto 1."},
            {title:"Ponto 2",text:"Descri√ß√£o do ponto 2."},
            {title:"Ponto 3",text:"Descri√ß√£o do ponto 3."}
          ],
          responsibilities:["Responsabilidade 1","Responsabilidade 2"],
          skills:["Skill 1","Skill 2"],
          achievements:["Realiza√ß√£o 1","Realiza√ß√£o 2"],
          pdfs:[]
        };
      })
    ];

    const carouselTrack=document.getElementById('carouselTrack');
    const detailSection=document.getElementById('detailSection');
    let selectedId=1;
    const quadW=160;
    const gap=38;

    function renderCarousel(){
      experiencias.forEach(exp=>{
        const wrapper=document.createElement('div');
        wrapper.className='carousel-item-wrapper';
        wrapper.innerHTML=`
          <div class="carousel-item ${exp.id===1?'selected':''}" onclick="selectExperience(${exp.id})">
            <img src="${exp.carouselImage}" alt="${exp.title}">
          </div>
          <span class="item-label">${exp.title}</span>
        `;
        carouselTrack.appendChild(wrapper);
      });
    }

    function renderDetails(){
      detailSection.innerHTML=experiencias.map(exp=>`
        <div class="detail-inner" id="detail-${exp.id}" style="display:${exp.id===1?'grid':'none'};">
          <img src="${exp.cover}" class="cover-image" alt="${exp.title}">

          <div class="info-central">
            <h1>${exp.title}</h1>
            <p class="tagline">${exp.role}</p>
            <p>${exp.description}</p>
            <div class="info-buttons">
              <button class="btn-detail">PRA</button>
            </div>
          </div>

          <div class="side-column">
            ${exp.sideCards.map(card=>`
              <div class="side-card">
                <div class="side-card-title">${card.title}</div>
                <div class="side-card-text">${card.text}</div>
              </div>
            `).join('')}
          </div>

          <div class="details-column">
            <div class="detail-box">
              <div class="detail-box-content js-scroll-content">
                <h3>üìã Responsabilidades</h3>
                <ul>
                  ${exp.responsibilities.map(r=>`<li>${r}</li>`).join('')}
                </ul>

                <div class="skills-section">
                  <h3>üõ†Ô∏è Skills</h3>
                  <div class="skills-wrap">
                    ${exp.skills.map(skill=>`<span class="skill-tag">${skill}</span>`).join('')}
                  </div>
                </div>

                <div class="skills-section">
                  <h3>‚ú® Realiza√ß√µes</h3>
                  <ul>
                    ${exp.achievements.map(ach=>`<li>${ach}</li>`).join('')}
                  </ul>
                </div>
              </div>
              <div class="scroll-track"><div class="scroll-thumb"></div></div>
            </div>

            ${exp.pdfs && exp.pdfs.length ? `
            <div class="pdf-box">
              <h3>üìé PDFs relacionados</h3>
              <div class="pdf-box-inner js-scroll-content">
                ${exp.pdfs.map(pdf=>`
                  <a class="pdf-item" href="${pdf.file}" target="_blank">
                    <div class="pdf-icon">PDF</div>
                    <div>
                      <div class="pdf-text-main">${pdf.titulo}</div>
                      <div class="pdf-text-sub">${pdf.subtitulo}</div>
                    </div>
                  </a>
                `).join('')}
              </div>
              <div class="scroll-track"><div class="scroll-thumb"></div></div>
            </div>` : ''}
          </div>
        </div>
      `).join('');
      initCustomScrollbars();
    }

    function initCustomScrollbars(){
      document.querySelectorAll('.detail-box, .pdf-box').forEach(box=>{
        const content=box.querySelector('.js-scroll-content');
        const track=box.querySelector('.scroll-track');
        const thumb=box.querySelector('.scroll-thumb');
        if(!content || !track || !thumb) return;

        function updateThumb(){
          const scrollHeight=content.scrollHeight;
          const visible=content.clientHeight;
          const maxScroll=scrollHeight-visible;
          if(maxScroll<=0){
            thumb.style.display='none';
            return;
          }
          thumb.style.display='block';
          const trackHeight=track.clientHeight;
          const thumbHeight=Math.max(25,visible/scrollHeight*trackHeight);
          const ratio=content.scrollTop/maxScroll;
          const maxThumbMove=trackHeight-thumbHeight;
          thumb.style.height=thumbHeight+'px';
          thumb.style.top=(ratio*maxThumbMove)+'px';
        }
        content.addEventListener('scroll',updateThumb);
        updateThumb();
      });
    }

    function selectExperience(id){
      selectedId=id;
      document.querySelectorAll('.carousel-item').forEach((item,idx)=>{
        if(experiencias[idx].id===id)item.classList.add('selected');
        else item.classList.remove('selected');
      });
      const idx=experiencias.findIndex(e=>e.id===id);
      const offset=(quadW+gap)*idx+quadW/2;
      carouselTrack.style.transform=
        `translateX(calc(50vw - 90px - ${offset}px))`;
      document.querySelectorAll('.detail-inner').forEach(d=>d.style.display='none');
      document.getElementById(`detail-${id}`).style.display='grid';
      initCustomScrollbars();
    }

    document.addEventListener('keydown',e=>{
      const currentIdx=experiencias.findIndex(exp=>exp.id===selectedId);
      if(e.key==='ArrowRight' && currentIdx<experiencias.length-1)
        selectExperience(experiencias[currentIdx+1].id);
      else if(e.key==='ArrowLeft' && currentIdx>0)
        selectExperience(experiencias[currentIdx-1].id);
    });

    renderCarousel();
    renderDetails();
    selectExperience(1);
  </script>
</body>
</html>
